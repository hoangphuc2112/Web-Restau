<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nhà Hàng Phan Lá É</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">

    <style>
        .hidden-section {
            display: none !important;
        }

        .fade-in-effect {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>

<body>

    <header class="site-header">
        <div class="header-top">
            <div class="container top-bar-content">
                <div class="social-icons">
                    <a href="https://www.facebook.com/NhaHangPhanLaE" class="social-link fb" target="_blank"><i class="fab fa-facebook"></i></a>
                    <a href="https://tiktok.com/@nhahangphanlae" class="social-link tiktok" target="_blank"><i class="fab fa-tiktok"></i></a>
                </div>
                <span class="separator">|</span>
                <div class="auth-links">
                    <a href="#">Đăng Ký</a>
                    <span class="separator">|</span>
                    <a href="#">Đăng Nhập</a>
                </div>
            </div>
        </div>

        <div class="header-main">
            <div class="container main-nav-content">
                <a href="#" class="logo-container">
                    <img src="image/Logo.svg" alt="Phan Lá É Logo" class="main-logo" 
                         onerror="this.src='https://placehold.co/150x60?text=Logo'">
                </a>

                <nav class="main-nav">
                    <ul>
                        <li><a href="#" id="nav-home" class="active" style="color: #d32f2f;">Ưu Đãi</a></li>
                        <li><a href="https://menu.phanlaerestaurant.com/" target="_blank">Thực Đơn</a></li>
                        <li><a href="#dat-ban" id="nav-booking">Đặt Bàn</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div id="home-view">

        <div class="hero-static-section">
            <div class="hero-container">
                <img src="image/Banner Slide.jpg" alt="Phan Lá É Banner" class="hero-img"
                     onerror="this.src='https://placehold.co/1200x450/333/FFF?text=Banner+Phan+La+E'">
            </div>
        </div>

        <div class="promo-banner-section">
            <div class="container">
                <a href="#" class="banner-link">
                    <img src="image/Banner Khuyến Mãi (Tĩnh).svg" alt="Chương trình khuyến mãi" class="static-banner-img"
                         onerror="this.src='https://placehold.co/1200x200/ff6600/fff?text=Banner+Khuyen+Mai'">
                </a>
                <div class="booking-btn-container">
                    <a href="#dat-ban" class="btn-booking-now">
                        <i class="fas fa-calendar-alt"></i> Đặt Bàn Ngay
                    </a>
                </div>
            </div>
        </div>

        <section class="about-section">
            <div class="container">
                <div class="about-wrapper">
                    <div class="about-content">
                        <h2 class="about-title">
                            <span class="text-red">Nhà Hàng</span>
                            <span class="text-purple">Phan Lá É</span>
                        </h2>
                        <div class="about-desc">
                            <span class="highlight">Nhà Hàng Phan Lá É</span> điểm đến ăn uống nổi tiếng tọa lạc tại Quận 2 (TP.HCM), gắn liền với món lẩu gà lá é trứ danh chuẩn vị miền Trung và được chế biến bởi những đầu bếp dày dặn kinh nghiệm. Nồi lẩu nóng hổi với thịt gà mềm, lá é tươi và nước dùng ngọt thanh giúp giải cảm, bồi bổ sức khỏe và hoàn toàn 100% không chất phụ gia. Ngoài lẩu gà lá é, Nhà Hàng Phan Lá É còn có lẩu gà tre, gà nướng lá chúc, gà tre nướng giấy bạc, đọt su xào lòng mề gà,…
                            <br><br>
                            Đến đây, thực khách vừa thưởng thức món ngon dân dã giữa không gian thoáng mát, đậm chất miền quê vừa được hưởng nhiều ưu đãi độc quyền dành cho hội viên Thẻ Sành và MBC: càng ăn càng “đã”, càng quẹt càng hời!
                        </div>
                        <a href="https://menu.phanlaerestaurant.com/" class="btn-menu" target="_blank">
                            <span>Xem thực đơn</span>
                            <i class="fas fa-arrow-right arrow-icon"></i>
                        </a>
                    </div>
                    
                    <div class="about-image-box">
                        <img src="image/restaurant pha la e.png" alt="Nhà hàng Phan Lá É" class="about-static-img"
                             onerror="this.src='https://placehold.co/550x325/333/FFF?text=Nha+Hang'">
                    </div>
                </div>
            </div>
        </section>

        <section class="exclusive-section">
            <div class="container">
                <div class="exclusive-wrapper">
                    <h2 class="section-title mobile-only-title">
                        <span class="text-red">Khuyến Mãi Độc Quyền</span><br>
                        <span class="text-purple">Tại Phan Lá É</span>
                    </h2>

                    <div class="exclusive-image-box">
                        <img src="image/banne promsion.jpg" alt="Khuyến mãi độc quyền" class="exclusive-main-img"
                             onerror="this.src='https://placehold.co/500x380/eee/333?text=Anh+Khuyen+Mai'">
                    </div>

                    <div class="exclusive-content">
                        <h2 class="section-title desktop-only-title">
                            <span class="text-red">Khuyến Mãi Độc Quyền</span><br>
                            <span class="text-purple">Tại Phan Lá É</span>
                        </h2>

                        <div class="exclusive-desc">
                            <span>Để mỗi trải nghiệm thưởng thức thêm trọn vẹn, </span>
                            <b>Nhà hàng Phan Lá É</b>
                            <span> dành tặng ưu đãi độc quyền cho khách hàng sở hữu Thẻ Sành (OBranding).</span>
                            <b>Giảm ngay 15% trên tổng hoá đơn</b>
                            <span>áp dụng không giới hạn số lần sử dụng và không giới hạn món ăn trong thực đơn.</span>
                            <br><br>
                            <span>Chỉ cần quét</span> <b>Thẻ Sành</b> <span>trước thanh toán, khách hàng sẽ được ưu đãi trực tiếp và minh bạch trên từng món:</span>
                        </div>

                        <div class="voucher-grid">
                            <a href="#" class="voucher-item"><img src="image/combo 509.svg" onerror="this.src='https://placehold.co/260x80/4a0080/fff?text=Combo+509K'"></a>
                            <a href="#" class="voucher-item"><img src="image/chi tu 237.svg" onerror="this.src='https://placehold.co/260x80/4a0080/fff?text=Lau+Ga+237K'"></a>
                            <a href="#" class="voucher-item"><img src="image/chi tu 212.svg" onerror="this.src='https://placehold.co/260x80/4a0080/fff?text=Ga+Nuong+212K'"></a>
                            <a href="#" class="voucher-item"><img src="image/chi tu 76.svg" onerror="this.src='https://placehold.co/260x80/4a0080/fff?text=Canh+Ga+76K'"></a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="booking-view" class="hidden-section">
        <section class="booking-section">
            <div class="container">
                <div class="booking-container">
                    <div class="booking-image-col">
                        <img src="image/banner booking.jpg" alt="Vị ngon đậm đà" class="booking-banner-img" 
                             onerror="this.src='https://placehold.co/600x650/ff6600/fff?text=Banner+Dat+Ban'">
                    </div>

                    <div class="booking-form-col">
                        <div class="booking-form-wrapper">
                            <div class="form-header">
                                <h3>ĐẶT BÀN TẠI <span class="brand-name">PHAN LÁ É</span></h3>
                                <p class="branch-info"><i class="fas fa-map-marker-alt"></i> Chi nhánh: 63 Cao Đức Lân, Phường Bình Trưng, TP.HCM</p>
                            </div>
                            
                            <form id="bookingForm" class="booking-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Thời gian dùng bữa:</label>
                                        <div class="input-with-icon">
                                            <i class="fas fa-calendar-alt"></i>
                                            <input type="date" id="bookingDate" name="Ngày dùng bữa" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>&nbsp;</label>
                                        <div class="input-with-icon">
                                            <i class="fas fa-clock"></i>
                                            <input type="time" id="bookingTime" name="Giờ" value="11:30" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Số lượng người <span class="required">*</span></label>
                                        <div class="input-with-icon">
                                            <i class="fas fa-user-friends"></i>
                                            <input type="number" name="Số người" placeholder="Ví dụ: 12" min="1" required>
                                            <span class="unit">người</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Vị trí <span class="required">*</span></label>
                                        <div class="input-with-icon">
                                            <i class="fas fa-map-pin"></i>
                                            <select name="Vị trí" required>
                                                <option value="PHÒNG VIP">PHÒNG VIP</option>
                                                <option value="TRÊN LẦU">TRÊN LẦU</option>
                                                <option value="DƯỚI LẦU">DƯỚI LẦU</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Họ tên <span class="required">*</span></label>
                                        <div class="input-with-icon">
                                            <i class="fas fa-user"></i>
                                            <input type="text" name="Họ tên" placeholder="HUỲNH TRỌNG" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Số điện thoại <span class="required">*</span></label>
                                        <div class="input-with-icon">
                                            <i class="fas fa-phone-alt"></i>
                                            <input type="tel" name="Số điện thoại" placeholder="0909 666 333" pattern="[0-9]{10}" title="Vui lòng nhập đúng 10 chữ số điện thoại" required>
                                        </div>
                                        <small class="note-text">(Khuyến khích chọn số điện thoại liên kết Zalo)</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label>Ghi chú</label>
                                    <div class="input-with-icon textarea-icon">
                                        <i class="fas fa-pen"></i>
                                        <textarea rows="2" name="Ghi chú" placeholder="Giữ bàn cho tôi 30 phút"></textarea>
                                    </div>
                                </div>

                                <button type="submit" class="btn-submit-booking">Đặt bàn</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="successPopup" class="popup-overlay">
        <div class="popup-content">
            <div class="popup-icon-box">
                <div class="success-checkmark">
                    <div class="check-icon">
                        <span class="icon-line line-tip"></span>
                        <span class="icon-line line-long"></span>
                        <div class="icon-circle"></div>
                        <div class="icon-fix"></div>
                    </div>
                </div>
            </div>
            <h2 class="popup-title">ĐẶT BÀN THÀNH CÔNG</h2>
            <p class="popup-message">
                Cảm ơn Quý khách đã đặt bàn tại <b>Phan Lá É</b>.<br>
                Chúng tôi sẽ giữ bàn trong <b style="color: #ff6600;">15 phút</b> kể từ thời điểm Quý khách đã chọn.
            </p>
            <button class="btn-popup-ok" id="closePopupBtn">OK</button>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-top">
                <div class="footer-col logo-col">
                    <img src="image/logo nha hang phan la e.png" alt="Phan Lá É" 
                         onerror="this.src='https://placehold.co/150x150/ff6600/fff?text=Logo'">
                </div>
                
                <div class="footer-col">
                    <div class="footer-heading">Nhà Hàng Phan Lá É</div>
                    <ul class="footer-list">
                        <li>
                            <a href="javascript:void(0)" onclick="window.location.hash=''; window.scrollTo({top: 0, behavior: 'smooth'});">
                                Về Phan Lá É
                            </a>
                        </li>
                        
                        <li>
                            <a href="https://menu.phanlaerestaurant.com/" target="_blank">
                                Thực Đơn
                            </a>
                        </li>
                        
                        <li>
                            <a href="#dat-ban">
                                Đặt Bàn
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="footer-col address-col">
                    <div class="footer-heading">Địa Chỉ</div>
                    <div class="footer-text">63 Cao Đức Lân, Phường Bình Trưng, Thành phố Hồ Chí Minh</div>
                    <div class="hotline-box">
                        <span class="hotline-label">Hotline:</span> 
                        <span class="hotline-number">0933 667 929</span>
                    </div>
                </div>

                <div class="footer-col">
                    <div class="footer-heading">Kết Nối Với Chúng Tôi</div>
                    <div class="social-group">
                        <a href="https://www.facebook.com/NhaHangPhanLaE" target="_blank" class="social-btn fb"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://tiktok.com/@nhahangphanlae" target="_blank" class="social-btn tiktok"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
            </div>

            <div class="footer-openlive">
                <a href="https://openlivegroup.com/" target="_blank" class="cng-ty-c">CÔNG TY CỔ PHẦN ĐẦU TƯ & PHÁT TRIỂN OPENLIVE</a>
                
                <div class="m-s-thu">
                    Mã số thuế: 0317141176 do Sở Kế hoạch và Đầu tư Thành phố Hồ Chí Minh cấp ngày 25/01/2022.
                </div>
                
                <div class="hotline-1900-5372-parent">
                    <div class="m-s-thu">Hotline: 1900 5372</div>
                    <div class="frame-child"></div> 
                    <div class="m-s-thu">Email: contact@openlivegroup.com</div>
                </div>
                
                <div class="a-ch-tng">
                    Địa chỉ: Tầng 1, Tòa nhà Packsimex, 52 Đông Du, Phường Bến Nghé, Quận 1, Thành phố Hồ Chí Minh, Việt Nam.
                </div>
                
                <div class="obranding-parent">
                    <div class="m-s-thu">OBranding</div> 
                    <span class="copyright-symbol">©</span>
                    <div class="m-s-thu">All Rights Reserved.</div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            // 1. Initialize Components
            initBookingForm();
            handleHashChange(); // Run once on load

            // 2. Hash-based Routing (SPA Logic)
            function handleHashChange() {
                const hash = window.location.hash;
                const homeView = document.getElementById('home-view');
                const bookingView = document.getElementById('booking-view');
                const navHome = document.getElementById('nav-home');
                const navBooking = document.getElementById('nav-booking');

                // Smooth scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });

                if (hash === '#dat-ban') {
                    // Show Booking View
                    homeView.classList.add('hidden-section');
                    bookingView.classList.remove('hidden-section');
                    bookingView.classList.add('fade-in-effect');

                    // Update Menu State
                    if (navBooking) { navBooking.classList.add('active'); navBooking.style.color = '#d32f2f'; }
                    if (navHome) { navHome.classList.remove('active'); navHome.style.color = ''; }
                    
                    document.title = "Đặt Bàn - Phan Lá É";
                } else {
                    // Show Home View (Default)
                    homeView.classList.remove('hidden-section');
                    bookingView.classList.add('hidden-section');

                    // Update Menu State
                    if (navHome) { navHome.classList.add('active'); navHome.style.color = '#d32f2f'; }
                    if (navBooking) { navBooking.classList.remove('active'); navBooking.style.color = ''; }
                    
                    document.title = "Trang Chủ - Phan Lá É";
                }
            }

            // Listen for URL changes
            window.addEventListener('hashchange', handleHashChange);
            
            // Add click events for Logo & Footer links to reset hash
            const logoLink = document.querySelector('.logo-container');
            const footerHomeLink = document.getElementById('footer-home-link');
            
            const resetToHome = (e) => {
                // If we are already on home (no hash or empty hash), just scroll top
                if (!window.location.hash || window.location.hash === '#') {
                    e.preventDefault();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                } else {
                    // Otherwise, remove hash to trigger hashchange to home
                    // window.location.hash = ''; // This works too
                }
            };

            if(logoLink) logoLink.addEventListener('click', resetToHome);
            if(footerHomeLink) footerHomeLink.addEventListener('click', resetToHome);
        });

        // 3. Booking Form Logic
        function initBookingForm() {
            const bookingForm = document.getElementById('bookingForm');
            const successPopup = document.getElementById('successPopup');
            const closePopupBtn = document.getElementById('closePopupBtn');
            const submitBtn = document.querySelector('.btn-submit-booking');
            
            // Google Apps Script URL
            const scriptURL = 'https://script.google.com/macros/s/AKfycbx79GjtW8l8uCj6p5D2nhTP1FPBrlRNoN5ckqLy3oJotyIudZJUHEMR9QoMXk6Unv5h/exec';

            // Set default date to today
            const setTodayDate = () => {
                const dateInput = document.getElementById('bookingDate');
                if (dateInput) {
                    const today = new Date();
                    const yyyy = today.getFullYear();
                    const mm = String(today.getMonth() + 1).padStart(2, '0');
                    const dd = String(today.getDate()).padStart(2, '0');
                    const todayStr = `${yyyy}-${mm}-${dd}`;
                    
                    dateInput.value = todayStr; 
                    dateInput.setAttribute("min", todayStr);
                }
            }
            setTodayDate();

            // Handle Form Submit
            if (bookingForm) {
                bookingForm.addEventListener('submit', function (e) {
                    e.preventDefault();
                    
                    const originalBtnText = submitBtn.innerText;
                    submitBtn.innerText = "Đang gửi...";
                    submitBtn.disabled = true;
                    submitBtn.style.cursor = "wait";

                    const formData = new FormData(bookingForm);
                    
                    fetch(scriptURL, { method: 'POST', body: formData })
                        .then(response => {
                            submitBtn.innerText = originalBtnText;
                            submitBtn.disabled = false;
                            submitBtn.style.cursor = "pointer";
                            
                            if (successPopup) successPopup.classList.add('show');
                            bookingForm.reset();
                            setTodayDate();
                        })
                        .catch(error => {
                            console.error('Error!', error.message);
                            alert("Có lỗi xảy ra, vui lòng thử lại!");
                            submitBtn.innerText = originalBtnText;
                            submitBtn.disabled = false;
                        });
                });
            }

            // Popup Controls
            if (closePopupBtn) {
                closePopupBtn.addEventListener('click', function () {
                    successPopup.classList.remove('show');
                });
            }
            window.addEventListener('click', function (e) {
                if (e.target == successPopup) {
                    successPopup.classList.remove('show');
                }
            });
        }
    </script>
</body>
</html>
